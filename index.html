<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Conversation</title>
    <!-- Link to main.ts will handle CSS import -->
</head>
<body>

    <div id="sidebar">
        <!-- Sidebar content remains the same -->
        <img src="https://cdn.skillplate.com/skillplate-logo.svg" alt="Skillplate Logo" width="150" style="display: block; margin-bottom: 10px;">
        <div class="section-divider"></div>
        <a href="#" id="tasklist-link"><h2>Tasklist</h2></a>
        <div class="section-divider"></div>
        <ul id="sidebar-menu">
             <li class="accordion-toggle">Onboarding</li>
             <ul class="accordion-content">
                 <li class="sidebar-topic" data-topic="Customer Information">Customer Information</li>
                 <li class="sidebar-topic" data-topic="Branding Settings">Branding Settings</li>
                 <li class="sidebar-topic" data-topic="General Settings">General Settings</li>
                 <li class="sidebar-topic" data-topic="Payment Settings">Payment Settings</li>
                 <li class="sidebar-topic" data-topic="Domain Settings">Domain Settings</li>
             </ul>
             <div class="section-divider"></div>
             <li class="accordion-toggle">Products</li>
             <ul class="accordion-content">
                 <li class="sidebar-topic" data-topic="Product Ideas">Product Ideas</li>
                 <li class="sidebar-topic" data-topic="Create Product">Create Product</li>
                 <li class="sidebar-topic" data-topic="Product list">Product list</li>
                 <li class="sidebar-topic" data-topic="Product 1" style="padding-left: 15px;">Product 1</li>
                 <li class="sidebar-topic" data-topic="Product 2" style="padding-left: 15px;">Product 2</li>
             </ul>
         </ul>
    </div>

    <div id="main">
        <div id="app"></div>
        <div id="chatbox">
             <p><em>Select a topic from the sidebar or start typing.</em></p>
        </div>

        <!-- UPDATED Task List Container -->
        <div id="task-list" style="display: none;"> <!-- Flex container -->
            <div id="task-table-container"> <!-- Left side: Table -->
                <h2>Tasks</h2>
                <button id="add-task-button">Add Task</button>
                <table>
                    <thead>
                        <tr>
                             <th><!-- Drag Handle Column --></th>
                             <th>#</th>
                             <th>Complete</th>
                             <th>Task Name</th>
                             <th>Due Date</th>
                             <th>Tags</th>
                             <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="task-table-body">
                        <!-- Task rows -->
                    </tbody>
                </table>
            </div>
            <div id="task-detail-view" style="display: none;"> <!-- Right side: Details -->
                <h2>Task Details</h2>
                 <div class="detail-field">
                     <label for="task-detail-name">Name:</label>
                     <input type="text" id="task-detail-name">
                 </div>
                 <div class="detail-field">
                     <label for="task-detail-description">Description:</label>
                     <textarea id="task-detail-description" rows="6"></textarea>
                 </div>
                 <div class="detail-field">
                     <label>Created:</label>
                     <span id="task-detail-created"></span>
                 </div>
                 <div class="detail-field">
                     <label>Updated:</label>
                     <span id="task-detail-updated"></span>
                 </div>
                 <button id="task-detail-close">Close Details</button>
                 <button id="task-detail-save" style="float: right;">Save Changes</button>
                 <input type="hidden" id="task-detail-id"> <!-- To store current task ID -->
            </div>
        </div>
        <!-- END UPDATED Task List -->

        <div id="input-area" style="display: flex;">
            <input type="text" id="message-input" placeholder="Type your message...">
            <button id="send-button">Send</button>
        </div>
    </div>

    <script type="module" src="/src/main.ts"></script>

</body>
</html>